<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">

    <!--

        Licensed to the Apache Software Foundation (ASF) under one or more
        contributor license agreements.  See the NOTICE file distributed with
        this work for additional information regarding copyright ownership.
        The ASF licenses this file to You under the Apache License, Version 2.0
        (the "License"); you may not use this file except in compliance with
        the License.  You may obtain a copy of the License at

           http://www.apache.org/licenses/LICENSE-2.0

        Unless required by applicable law or agreed to in writing, software
        distributed under the License is distributed on an "AS IS" BASIS,
        WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
        See the License for the specific language governing permissions and
        limitations under the License.
    -->

    <modelVersion>4.0.0</modelVersion>

    <parent>
      <groupId>org.apache.servicemix.bundles</groupId>
      <artifactId>bundles-pom</artifactId>
      <version>4</version>
    </parent>

    <groupId>org.apache.servicemix.bundles</groupId>
    <artifactId>org.apache.servicemix.bundles.freemarker</artifactId>
    <version>2.3.15_5-SNAPSHOT</version>
    <packaging>bundle</packaging>
    <name>Apache ServiceMix :: Bundles :: ${pkgArtifactId}</name>
    <description>
        SYNOPSIS
            This OSGi bundle wraps ${pkgArtifactId} ${pkgVersion} jar file.

        DESCRIPTION
            FreeMarker is a "template engine"; a generic tool to generate text output (anything from HTML to
            autogenerated source code) based on templates. It's a Java package, a class library for Java programmers.
            It's not an application for end-users in itself, but something that programmers can embed into their
            products.

            FreeMarker is designed to be practical for the generation of HTML Web pages, particularly by servlet-based
            applications following the MVC (Model View Controller) pattern. The idea behind using the MVC pattern for
            dynamic Web pages is that you separate the designers (HTML authors) from the programmers. Everybody works
            on what they are good at. Designers can change the appearance of a page without programmers having to
            change or recompile code, because the application logic (Java programs) and page design (FreeMarker
            templates) are separated. Templates do not become polluted with complex program fragments. This separation
            is useful even for projects where the programmer and the HTML page author is the same person, since it helps
            to keep the application clear and easily maintainable.

            Although FreeMarker has some programming capabilities, it is not a full-blown programming language like PHP.
            Instead, Java programs prepare the data to be displayed (like issue SQL queries), and FreeMarker just
            generates textual pages that display the prepared data using templates.

        SEE ALSO
            http://freemarker.sourceforge.net/
    </description>

    <properties>
        <pkgGroupId>org.freemarker</pkgGroupId>
        <pkgArtifactId>freemarker</pkgArtifactId>
        <pkgVersion>2.3.15</pkgVersion>
        <servicemix.osgi.import.pkg>
            !freemarker*,
            !com.sun.org.apache*,
            javax.el*;resolution:=optional;version="[1,2)",
            javax.servlet*;resolution:=optional;version="[2.5,3)",
            javax.servlet.jsp*;resolution:=optional;version="[2.1,3)",
            javax.swing*;resolution:=optional,
            org.apache.log;resolution:=optional;version="[1.0.1,1.0.1]",
            org.apache.log4j;resolution:=optional;version="[1.2,2)",
            org.apache.tools.ant*;resolution:=optional;version="[1.7,2)",
            org.apache.xml.utils;resolution:=optional;version="[2.7,3)",
            org.apache.xpath*;resolution:=optional;version="[2.7,3)",
            org.dom4j*;resolution:=optional;version="[1.6.1,2)",
            org.jaxen*;resolution:=optional;version="[1.1.1,2)",
            org.jdom*;resolution:=optional;version="[1,2)",
            org.mozilla.javascript;resolution:=optional,
            org.python*;resolution:=optional;version="[2.2.1,2.3)",
            org.zeroturnaround.javarebel;resolution:=optional,
            *
        </servicemix.osgi.import.pkg>
        <servicemix.osgi.export.pkg>
            freemarker
        </servicemix.osgi.export.pkg>
        <servicemix.osgi.failok>true</servicemix.osgi.failok>
    </properties>

    <dependencies>
        <dependency>
            <groupId>${pkgGroupId}</groupId>
            <artifactId>${pkgArtifactId}</artifactId>
            <version>${pkgVersion}</version>
            <optional>true</optional>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-shade-plugin</artifactId>
                <executions>
                    <execution>
                        <phase>package</phase>
                        <goals>
                            <goal>shade</goal>
                        </goals>
                        <configuration>
                            <artifactSet>
                                <includes>
                                    <include>${pkgGroupId}:${pkgArtifactId}</include>
                                </includes>
                            </artifactSet>
                            <filters>
                                <filter>
                                    <artifact>${pkgGroupId}:${pkgArtifactId}</artifact>
                                    <excludes>
                                        <exclude>**</exclude>
                                    </excludes>
                                </filter>
                            </filters>
                            <promoteTransitiveDependencies>true</promoteTransitiveDependencies>
                            <createDependencyReducedPom>true</createDependencyReducedPom>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
        </plugins>
    </build>
</project>
